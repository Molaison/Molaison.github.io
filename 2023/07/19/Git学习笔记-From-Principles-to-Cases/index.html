<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Git学习笔记: From Principles to Cases | Molaison's blogs</title><meta name="keywords" content="computer science"><meta name="author" content="Molaison"><meta name="copyright" content="Molaison"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="在本篇博客中，我们将深入探讨Git的使用方法，带你了解Git如何帮助你高效地管理代码版本。无论你是刚刚接触Git还是想深入了解其高级功能，这篇指南都将为你提供全面的帮助。">
<meta property="og:type" content="article">
<meta property="og:title" content="Git学习笔记: From Principles to Cases">
<meta property="og:url" content="https://github.com/Molaison/Molaison.github.io/2023/07/19/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-From-Principles-to-Cases/index.html">
<meta property="og:site_name" content="Molaison&#39;s blogs">
<meta property="og:description" content="在本篇博客中，我们将深入探讨Git的使用方法，带你了解Git如何帮助你高效地管理代码版本。无论你是刚刚接触Git还是想深入了解其高级功能，这篇指南都将为你提供全面的帮助。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7">
<meta property="article:published_time" content="2023-07-18T16:32:01.000Z">
<meta property="article:modified_time" content="2023-07-22T09:16:57.718Z">
<meta property="article:author" content="Molaison">
<meta property="article:tag" content="computer science">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"><link rel="shortcut icon" href="https://gcore.jsdelivr.net/gh/Molaison/IMages/IMG/2022/10/1820221018082037.png"><link rel="canonical" href="https://github.com/Molaison/Molaison.github.io/2023/07/19/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-From-Principles-to-Cases/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Git学习笔记: From Principles to Cases',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-22 17:16:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.1.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/IMG/2022/10/1820221018081403.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Molaison's blogs</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">Git学习笔记: From Principles to Cases</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-07-18T16:32:01.000Z" title="发表于 2023-07-19 00:32:01">2023-07-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-22T09:16:57.718Z" title="更新于 2023-07-22 17:16:57">2023-07-22</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/skill-learning/">skill learning</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">9.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>33分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Git学习笔记: From Principles to Cases"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><article class="post-content" id="article-container"><h3 id="什么是Git？"><a href="#什么是Git？" class="headerlink" title="什么是Git？"></a>什么是Git？</h3><p>Git是一个分布式版本控制系统，由Linux内核创始人Linus Torvalds于2005年开发。相较于集中式版本控制系统，Git的分布式特性使得团队成员可以在本地独立地进行代码开发，不再依赖于中央服务器的稳定性和网络连接。这为团队协作带来了巨大的便利，同时也为个人开发者提供了强大的版本管理能力。</p>
<p>在本篇博客中，我们将深入探讨Git的使用方法，带你了解Git如何帮助你高效地管理代码版本。无论你是刚刚接触Git还是想深入了解其高级功能，这篇指南都将为你提供全面的帮助。</p>
<p>接下来，我们将一步步学习如何安装和配置Git，并介绍Git的基本概念，例如仓库、提交、分支等。随后，我们将探讨常用的Git工作流程，涵盖从创建新功能分支到合并代码的全过程。同时，我们还将了解如何处理代码冲突、回滚错误提交以及优化Git操作，使你在日常开发中更加游刃有余。</p>
<p>Git是一个功能强大而灵活的工具，但也可能会让初学者感到有些复杂。但不用担心，本篇博客将以简洁明了的语言，结合实例演示，带你逐步掌握Git的精髓。让我们一起开始，成为Git版本控制的高手吧！</p>
<h3 id="基本流程：Git工作流"><a href="#基本流程：Git工作流" class="headerlink" title="基本流程：Git工作流"></a>基本流程：Git工作流</h3><p>当学习Git时，建议按照以下顺序逐步掌握各个命令：</p>
<ol>
<li><p>git init：创建一个新的空白仓库或在现有目录中初始化一个Git仓库。</p>
</li>
<li><p>git add：将文件添加到暂存区，准备进行提交。</p>
</li>
<li><p>git commit：将暂存区中的文件提交到本地仓库，创建一个新的版本。</p>
</li>
<li><p>git status：查看当前仓库状态，包括已修改和未跟踪的文件。</p>
</li>
<li><p>git diff：查看未暂存文件与最后一次提交之间的差异。</p>
</li>
<li><p>git log：查看提交历史，包括提交者、日期和提交信息。</p>
</li>
<li><p>git checkout：切换分支或恢复文件，可以用于创建新分支。</p>
</li>
<li><p>git branch：查看、创建和删除分支。</p>
</li>
<li><p>git merge：将一个分支的更改合并到另一个分支。</p>
</li>
<li><p>git remote：连接远程仓库，可以添加、重命名和删除远程仓库。</p>
</li>
<li><p>git pull：从远程仓库拉取并合并更改到本地仓库。</p>
</li>
<li><p>git push：将本地仓库的更改推送到远程仓库。</p>
</li>
<li><p>git clone：克隆远程仓库到本地，用于初始化一个新的本地仓库。</p>
</li>
<li><p>git fetch：从远程仓库拉取代码，但不合并到本地仓库。</p>
</li>
<li><p>git reset：撤销提交，将HEAD指向之前的提交，并可选择保留或丢弃更改。</p>
</li>
<li><p>git revert：撤销指定的提交，并创建一个新的提交来反转更改。</p>
</li>
<li><p>git stash：将当前工作目录的更改保存在临时区域，以便稍后恢复。</p>
</li>
<li><p>git tag：创建、列出和删除标签，用于标记重要的提交或版本。</p>
</li>
</ol>
<h3 id="基本用法：案例"><a href="#基本用法：案例" class="headerlink" title="基本用法：案例"></a>基本用法：案例</h3><p>步骤1：初始化仓库和第一个提交</p>
<p>首先，我们创建一个新的空目录，进入该目录，并初始化Git仓库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> my-web-app</span><br><span class="line"><span class="built_in">cd</span> my-web-app</span><br><span class="line">git init</span><br></pre></td></tr></table></figure>
<p>接下来，在该目录下创建一个简单的HTML文件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My Web App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>现在，将该文件添加到暂存区并提交第一个版本。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add index.html</span><br><span class="line">git commit -m <span class="string">&quot;Initial commit: Created index.html&quot;</span></span><br></pre></td></tr></table></figure>
<p>步骤2：创建并切换分支</p>
<p>我们决定在项目中添加一个新的功能，为此，我们需要创建一个新的分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch feature/add-about-page</span><br><span class="line">git checkout feature/add-about-page</span><br></pre></td></tr></table></figure>
<p>或者可以使用一条命令来创建并切换分支：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b feature/add-about-page</span><br></pre></td></tr></table></figure>
<p>现在，我们在<code>index.html</code>文件中添加一个“关于”页面。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>My Web App<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello, World!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;about.html&quot;</span>&gt;</span>About<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>然后添加并提交这些更改。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git add index.html</span><br><span class="line">git commit -m <span class="string">&quot;Added About page link&quot;</span></span><br></pre></td></tr></table></figure>
<p>步骤3：合并分支</p>
<p>在添加了“关于”页面之后，我们决定将这个功能合并回主分支。</p>
<p>首先，切换回主分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout main</span><br></pre></td></tr></table></figure>
<p>然后将<code>feature/add-about-page</code>分支合并到<code>main</code>分支。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git merge feature/add-about-page</span><br></pre></td></tr></table></figure>
<p>步骤4：部署项目</p>
<p>现在，我们已经完成了项目的开发并将功能合并回主分支。接下来，我们可以将项目部署到服务器或托管平台上。</p>
<p>这里假设我们将代码托管在GitHub上。首先，我们将远程仓库与本地仓库关联。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin &lt;GitHub仓库URL&gt;</span><br></pre></td></tr></table></figure>
<p>然后将代码推送到远程仓库。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure>
<p>至此，我们的简单Git案例就完成了，包括了从初始化仓库到创建和合并分支，并最后将代码推送到远程仓库的过程。</p>
<h3 id="提交：commit-命名规范"><a href="#提交：commit-命名规范" class="headerlink" title="提交：commit 命名规范"></a>提交：commit 命名规范</h3><p>遵循一致的命名规范可以使提交历史更加清晰、易于理解和管理。以下是一些建议的Git <code>commit</code>命名规范：</p>
<ol>
<li><p>使用简洁明了的描述：每个<code>commit</code>的标题应该简洁明了地描述此次提交所做的更改。尽量避免冗长的标题。</p>
</li>
<li><p>使用现在时态：提交标题通常使用现在时来描述一个动作或更改，例如：”Add feature”, “Fix bug”等。</p>
</li>
<li><p>使用动词开头：在标题中使用动词开头，说明这次提交所做的主要操作。常见的动词有：”Add”（新增）、”Update”（更新）、”Fix”（修复）、”Remove”（删除）等。</p>
</li>
<li><p>分离主题和描述：提交标题与提交描述之间使用一个空行进行分隔，提交描述可以进一步补充说明本次提交的详细信息。</p>
</li>
<li><p>参考项目规范：如果你在一个团队或项目中工作，请遵循项目的提交规范。许多团队会有特定的提交规范，例如Angular的规范（Angular Commit Message Guidelines）。</p>
</li>
<li><p>使用标签：可以在标题中使用标签来更好地标识提交类型，如”[Feature]“, “[Bugfix]“, “[Docs]“, “[Refactor]“等。</p>
</li>
</ol>
<p>可以参考以下案例：</p>
<ul>
<li>添加新功能：<br><code>Add user authentication feature</code></li>
<li>修复Bug：<br><code>Fix login page alignment issue</code></li>
<li>更新文档：<br><code>Docs: Update README with installation instructions</code></li>
<li>重构代码：<br><code>Refactor: Improve performance of data processing</code></li>
</ul>
<p>其中，<code>commit</code>的类型至关重要，能够将我们的提交很好地分门别类。</p>
<ol>
<li><strong>feat（Feature）</strong>：添加新功能或特性。</li>
<li><strong>fix（Bugfix）</strong>：修复Bug或错误。</li>
<li><strong>docs（Documentation）</strong>：更新文档，如README、注释等。</li>
<li><strong>style</strong>：对代码样式进行调整，如缩进、空格、格式等，不影响代码逻辑。</li>
<li><strong>refactor</strong>：重构代码，优化代码结构、提高性能，不是Bug修复，也不是添加新功能。</li>
<li><strong>test</strong>：添加或修改测试用例、测试代码。</li>
<li><strong>chore</strong>：对构建过程或辅助工具的修改。</li>
<li><strong>perf（Performance）</strong>：改善代码性能的提交。</li>
<li><strong>build</strong>：修改项目构建相关的内容，如更新依赖、修改构建脚本等。</li>
<li><strong>revert</strong>：撤销之前的提交。</li>
<li><strong>merge</strong>：合并分支或解决合并冲突。</li>
<li><strong>init</strong>：初始化项目。</li>
<li><strong>dependencies</strong>：更新或修改项目依赖的外部库或工具。</li>
<li><strong>security</strong>：涉及安全性的提交，如修复安全漏洞。</li>
</ol>
<p>然而，我们有时仍然会忘记，或者偷懒而没有遵循提交的规范，这会给后期查看代码带来麻烦。而Commitizen是一个用于规范化Git提交消息的工具，旨在帮助团队成员更好地遵循一致的提交规范。它提供了一个交互式的命令行界面，引导用户填写提交信息，并根据预定义的提交规范生成规范化的提交消息。使用方法如下：</p>
<ol>
<li>安装：<code>-g commitizen</code>表示全局安装；<code>cz-conventional-changelog</code>为项目配置Commitizen适配器，最常用的适配器cz-conventional-changelog（约定式提交适配器）：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g commitizen cz-conventional-changelog</span><br></pre></td></tr></table></figure></li>
<li>在项目根目录下创建一个<code>.czrc</code>文件，指定使用的适配器：<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;path&quot;</span><span class="punctuation">:</span> <span class="string">&quot;cz-conventional-changelog&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li>
<li>使用<code>git cz</code>命令代替<code>git commit</code>来进行提交，然后按照交互式界面的提示填写提交信息。</li>
</ol>
<h3 id="命令详解：parameter-level-explanation"><a href="#命令详解：parameter-level-explanation" class="headerlink" title="命令详解：parameter-level explanation"></a>命令详解：parameter-level explanation</h3><h4 id="GIT-BRANCH-分支操作"><a href="#GIT-BRANCH-分支操作" class="headerlink" title="GIT BRANCH: 分支操作"></a>GIT BRANCH: 分支操作</h4><p><code>git branch</code> 是用于管理Git分支的命令，用于查看、创建、删除、重命名和切换分支。以下是<code>git branch</code>命令的常用参数及其作用：</p>
<ol>
<li><p><strong>不带参数：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br></pre></td></tr></table></figure>
<p>作用：查看当前仓库中的所有分支，并在当前分支前面添加一个星号<code>*</code>标识当前所在的分支。</p>
</li>
<li><p><strong><branch_name>：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch &lt;branch_name&gt;</span><br></pre></td></tr></table></figure>
<p>作用：创建一个新的分支，名称为<code>&lt;branch_name&gt;</code>。</p>
</li>
<li><p><strong>-d / —delete <branch_name>：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -d &lt;branch_name&gt;</span><br></pre></td></tr></table></figure>
<p>作用：删除指定的分支，如果分支未合并到其他分支，则会警告；如果确定要删除，可以使用 <code>-D</code> 参数进行强制删除。</p>
</li>
<li><p><strong>-m / —move <old_branch_name> <new_branch_name>：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -m &lt;old_branch_name&gt; &lt;new_branch_name&gt;</span><br></pre></td></tr></table></figure>
<p>作用：重命名分支，将 <code>&lt;old_branch_name&gt;</code> 改为 <code>&lt;new_branch_name&gt;</code>。</p>
</li>
<li><p><strong>-M</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -M &lt;name&gt;</span><br></pre></td></tr></table></figure>
<p>作用：执行 <code>git branch -M main</code> 命令后，将会发生以下操作：你的默认分支将变成 <code>main</code>，并且原先的默认分支（如果存在）的更改将被保存在新的 <code>main</code> 分支上。</p>
</li>
<li>如果当前仓库的默认分支不是 <code>main</code>，Git 会将默认分支的名称更改为 <code>main</code>。</li>
<li><p>如果 <code>main</code> 分支已经存在，则将当前所在的分支（当前分支）重命名为 <code>main</code>，并且该操作是强制性的（因此使用了 <code>-M</code> 参数）。</p>
</li>
<li><p><strong>-r / —remotes：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -r</span><br></pre></td></tr></table></figure>
<p>作用：显示远程分支。</p>
</li>
<li><p><strong>-a / —all：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -a</span><br></pre></td></tr></table></figure>
<p>作用：显示所有本地和远程分支。</p>
</li>
<li><p><strong>-v / —verbose：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -v</span><br></pre></td></tr></table></figure>
<p>作用：显示每个分支的最后一次提交信息。</p>
</li>
<li><p><strong>-vv：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -vv</span><br></pre></td></tr></table></figure>
<p>作用：显示每个分支的最后一次提交信息，并显示跟踪的远程分支。</p>
</li>
<li><p><strong>—no-color：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch --no-color</span><br></pre></td></tr></table></figure>
<p>作用：在输出中禁用颜色。</p>
</li>
</ol>
<h4 id="GIT-ADD-加入暂存"><a href="#GIT-ADD-加入暂存" class="headerlink" title="GIT ADD: 加入暂存"></a>GIT ADD: 加入暂存</h4><p><code>git add</code> 是用于将工作目录中的文件更改添加到暂存区（Staging Area），准备提交到版本库。<code>git add</code> 命令有多个参数可以控制添加文件的方式。以下是常用的 <code>git add</code> 参数及其作用：</p>
<ol>
<li><p><strong>文件名：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;file&gt;</span><br></pre></td></tr></table></figure>
<p>作用：将指定的文件 <code>&lt;file&gt;</code> 添加到暂存区。</p>
</li>
<li><p><strong>目录名：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add &lt;directory&gt;</span><br></pre></td></tr></table></figure>
<p>作用：将指定目录下的所有文件（包括子目录）添加到暂存区。</p>
</li>
<li><p><strong>-A / —all：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -A</span><br></pre></td></tr></table></figure>
<p>作用：将所有更改（包括新文件、修改和删除）添加到暂存区。相当于 <code>git add .</code> 和 <code>git add -u</code> 的合并效果。</p>
</li>
<li><p><strong>-u / —update：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -u</span><br></pre></td></tr></table></figure>
<p>作用：将所有修改和新文件（不包括删除）添加到暂存区。不会添加新的未追踪文件。</p>
</li>
<li><p><strong>-p / —patch：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -p</span><br></pre></td></tr></table></figure>
<p>作用：交互式地选择要添加到暂存区的文件内容，可以选择部分修改并排除其他部分。</p>
<ol>
<li><code>y</code>：表示将当前修改块添加到暂存区。</li>
<li><code>n</code>：表示不将当前修改块添加到暂存区。</li>
<li><code>s</code>：表示将当前修改块分割成更小的块。譬如一个文件中，修改了多次，可以将每一个不同的更改分开来选择添加或修改</li>
<li><code>e</code>：表示手动编辑当前修改块。</li>
<li><code>q</code>：表示退出 <code>git add -p</code> 命令。</li>
<li><code>a</code>：表示将当前的显示的<code>修改</code>添加到暂存区。由于多个文件中的修改是逐个显示的，可以理解为<code>show next one</code>;</li>
</ol>
</li>
<li><p><strong>-i / —interactive：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add -i</span><br></pre></td></tr></table></figure>
<p>作用：以交互式的方式添加文件，可以选择添加、忽略或取消添加。<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230720185654.png" alt=""><br>其中, 第一个表格展示了修改的状态, <code>Commands</code>展示了可输入的命令，可以通过输入<code>序号</code>或<code>首字母</code>来调用该命令。<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230720190050.png" alt=""><br>我们修改了<code>test2</code>，随后<code>unstaged</code>栏有更新, 此时我们输入命令<code>2</code>或<code>u</code>，命令前缀符变为Update，即命令名称时，会出现选项选择要操作的文件对象，输入<code>1</code>选中一个，随后回车选中这一个文件，文件行前出现星号<code>*</code>。但此时并不会执行，如果继续输入序号，仍然会继续选中。直到我们直接输入回车。</p>
</li>
<li><p><strong>—intent-to-add：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add --intent-to-add</span><br></pre></td></tr></table></figure>
<p>作用：将新创建但尚未添加的文件添加到暂存区。这对于标记即将添加的文件非常有用。</p>
</li>
<li><p><strong>—renormalize：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git add --renormalize</span><br></pre></td></tr></table></figure>
<p>作用：将已经跟踪的文件重新标记为未标准化状态，并添加到暂存区。文件在 Git 中被保存为对象，并在存储库中进行压缩，其中某些文件在保存时可能会被转换为特定的格式（例如换行符或空格的处理）。在一些情况下，可能需要更改这些转换规则，以便 Git 在存储库中正确地保存文件。</p>
</li>
</ol>
<h4 id="GIT-COMMIT-提交至本地版本库"><a href="#GIT-COMMIT-提交至本地版本库" class="headerlink" title="GIT COMMIT: 提交至本地版本库"></a>GIT COMMIT: 提交至本地版本库</h4><p><code>git commit</code> 命令用于将暂存区中的文件更改提交到本地版本库，并生成一个新的提交（commit）。</p>
<ol>
<li><p><strong>-m \<message\> / —message=\<message\>：</strong><br>作用：用于指定提交的消息（commit message），即提交的描述信息。消息应该简洁明了，描述本次提交的内容。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -m <span class="string">&quot;Add new feature&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>-a / —all：</strong><br>作用：自动将所有已跟踪文件的更改提交到本地版本库，==跳过 <code>git add</code> 步骤==。未跟踪的文件不会被提交。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -a -m <span class="string">&quot;Fix bugs&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>-v / —verbose：</strong><br>作用：在提交消息中显示 diff 信息，即显示每个更改的具体内容。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit -v -m <span class="string">&quot;Update documentation&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>—amend：</strong><br>作用：修改最近一次提交的内容，将新的更改合并到该提交中。这个参数可以在忘记提交某些更改或修改了错误的提交消息时使用。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend -m <span class="string">&quot;Fix typo&quot;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要注意的是，如果你已经推送（push）了上一次的提交到远程仓库，修改提交消息后，最好不要再次推送，除非你确定这个操作不会影响其他开发者的工作。因为 <code>git commit --amend</code> 实际上是对历史提交进行修改，会改变提交的 SHA-1 值，如果将修改后的提交推送到远程仓库，可能会导致其他开发者的工作出现问题。</p>
</blockquote>
</li>
</ol>
<h4 id="GIT-STATUS-查看当前track状态"><a href="#GIT-STATUS-查看当前track状态" class="headerlink" title="GIT STATUS: 查看当前track状态"></a>GIT STATUS: 查看当前track状态</h4><p><code>git status</code> 是用于查看当前工作目录的状态和变更的命令。它会显示当前分支的状态，包括已修改、已暂存、未跟踪等文件的信息。以下是 <code>git status</code> 命令的详细用法和每个参数的介绍：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status [&lt;options&gt;] [--] [&lt;pathspec&gt;...]</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>无参数：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br></pre></td></tr></table></figure>
<p>作用：显示当前分支的状态，包括已修改、已暂存、未跟踪的文件信息。</p>
</li>
<li><p><strong>-s / —short：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status -s</span><br></pre></td></tr></table></figure>
<p>作用：以更简洁的格式显示状态信息。使用这个参数，状态的输出将被缩短并显示为两列。</p>
</li>
<li><p><strong>-b / —branch：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status -b</span><br></pre></td></tr></table></figure>
<p>作用：显示分支的状态，包括本地分支和与之关联的远程跟踪分支。</p>
</li>
<li><p><strong>-v / —verbose：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status -v</span><br></pre></td></tr></table></figure>
<p>作用：显示详细的状态信息，包括修改的文件内容和行数的变化。</p>
</li>
<li><p>-u[\<mode\>] / —untracked-files[\=\<mode\>]：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status -u</span><br></pre></td></tr></table></figure>
<p>作用：显示未跟踪文件的状态。<code>&lt;mode&gt;</code> 参数可以是 <code>no</code>、<code>normal</code> 或 <code>all</code>，分别表示不显示、显示普通未跟踪文件和显示所有未跟踪文件。</p>
</li>
<li><p><strong>—ignored：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status --ignored</span><br></pre></td></tr></table></figure>
<p>作用：显示被忽略的文件的状态。</p>
</li>
<li><p><strong>—no-renames：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status --no-renames</span><br></pre></td></tr></table></figure>
<p>作用：在状态中不显示重命名/复制的文件。</p>
</li>
<li><p><strong>—column[\=\<style\>]：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status --column</span><br></pre></td></tr></table></figure>
<p>作用：以栏格式显示状态，以更好地对齐文件名和状态。</p>
</li>
<li><p><strong>—ahead-behind：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status --ahead-behind</span><br></pre></td></tr></table></figure>
<p>作用：在与远程分支比较时，显示本地分支的提交落后或领先的提交数。</p>
</li>
</ul>
<h4 id="GIT-DIFF：看看改了什么"><a href="#GIT-DIFF：看看改了什么" class="headerlink" title="GIT DIFF：看看改了什么"></a>GIT DIFF：看看改了什么</h4><ol>
<li><strong><code>git diff</code>：</strong> 作用：比较工作目录中尚未暂存的更改与最后一次提交之间的差异。</li>
<li><strong><code>git diff &lt;commit&gt;</code>：</strong> 作用：比较工作目录中尚未暂存的更改与指定提交 <code>&lt;commit&gt;</code> 之间的差异。可以使用提交的 SHA-1 或分支名等来指定 <code>&lt;commit&gt;</code>。</li>
<li><strong><code>git diff &lt;commit&gt; &lt;commit&gt;</code>：</strong> 作用：比较两个提交 <code>&lt;commit&gt;</code> 之间的差异。可以使用提交的 SHA-1 或分支名等来指定 <code>&lt;commit&gt;</code>。</li>
<li><strong><code>git diff --cached</code> 或 <code>git diff --staged</code>：</strong> 作用：比较==暂存区（Staging Area）==中尚未提交的更改与最后一次提交（或是指定commit进行比较）之间的差异。即比较已暂存的更改与最后一次提交之间的差异。</li>
</ol>
<p>如何分析一个git diff的结果:<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230721090901.png" alt=""></p>
<ul>
<li><code>a/file.txt</code> 和 <code>b/file.txt</code>：文件在变化之前和之后的路径。</li>
<li><code>&lt;旧提交哈希&gt;</code> 和 <code>&lt;新提交哈希&gt;</code>：文件的上一个版本和当前版本的提交哈希。</li>
<li><code>&lt;模式&gt;</code>：文件的模式信息（例如，<code>100644</code> 表示普通文件）。</li>
<li><code>@@ -5,7 +5,7 @@</code>：该行指示了文件变化的上下文。</li>
<li><code>-This line was removed</code>：这是一个被删除的行。</li>
<li><code>+This line was added</code>：这是一个被添加的行。</li>
</ul>
<h4 id="GIT-LOG：TIMELINE"><a href="#GIT-LOG：TIMELINE" class="headerlink" title="GIT LOG：TIMELINE"></a>GIT LOG：TIMELINE</h4><p><code>git log</code> 是 Git 中一个用于查看提交历史的强大命令。它用于显示项目中的提交记录，按照提交时间的先后顺序排列。</p>
<ol>
<li><p><strong>基本用法：</strong></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span></span><br></pre></td></tr></table></figure>
<p>这会显示从最新到最旧的提交记录列表。默认情况下，会显示每个提交的哈希值（commit hash）、作者（author）、日期、和提交信息（commit message）。</p>
</li>
<li><p><strong>显示提交内容变更：</strong></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p</span><br></pre></td></tr></table></figure>
<p>使用 <code>-p</code> 或 <code>--patch</code> 参数，可以显示每个提交的详细内容变更（diff），包括哪些文件被修改以及具体的修改内容。</p>
</li>
<li><p><strong>单行显示提交记录：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment">--oneline</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>--oneline</code> 参数，可以以单行的格式显示每个提交记录，只显示提交哈希值和提交信息，更加简洁。</p>
</li>
<li><p><strong>显示作者统计：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment">--author=&lt;author_name&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>--author=&lt;author_name&gt;</code> 参数，可以过滤并只显示指定作者的提交记录。</p>
</li>
<li><p><strong>按照提交时间排序：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment">--date=short</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>--date=short</code> 参数，可以以简洁日期格式显示提交记录，并按照提交时间排序。</p>
</li>
<li><p><strong>显示分支合并情况：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment">--graph</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>--graph</code> 参数，可以显示提交历史的分支合并情况图。<br>可以和<code>--pretty=format</code>联用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --pretty=format:<span class="string">&quot;%h %s&quot;</span> --graph</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>显示指定文件的提交历史：</strong></p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">log</span> <span class="variable">&lt;file_path&gt;</span></span><br></pre></td></tr></table></figure>
<p>在 <code>git log</code> 命令后面加上指定文件的路径，可以<strong>仅显示该文件的提交历史</strong>。</p>
</li>
<li><p><strong>显示指定范围的提交历史：</strong></p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">log</span> <span class="variable">&lt;commit_range&gt;</span></span><br></pre></td></tr></table></figure>
<p>在 <code>git log</code> 命令后面加上两个提交之间的范围，可以显示在这个范围内的提交历史。范围的格式可以是单个提交哈希、分支名，或者是提交范围（例如：<code>master..develop</code>）。<br>在Git中，<code>git log</code>命令用于查看版本历史和提交日志。通过提供一个提交范围（commit_range），您可以仅查看该范围内的提交记录。提交范围可以指定一个或多个提交，以便从其中筛选出相应的提交历史。</p>
<ol>
<li>单个提交（Single Commit）：您可以指定一个具体的提交哈希（commit hash）或提交引用（例如分支名、标签名）来查看该提交的日志。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> &lt;commit_hash&gt;</span><br><span class="line">git <span class="built_in">log</span> &lt;branch_name&gt;</span><br><span class="line">git <span class="built_in">log</span> &lt;tag_name&gt;</span><br></pre></td></tr></table></figure></li>
<li>范围提交（Commit Range）：您可以通过使用两个提交引用，创建一个范围，来查看这两个提交之间的所有提交。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> &lt;commit_ref1&gt;..&lt;commit_ref2&gt;</span><br></pre></td></tr></table></figure>
在上述命令中，<code>&lt;commit_ref1&gt;</code>是范围的起始提交引用，<code>&lt;commit_ref2&gt;</code>是范围的结束提交引用。范围是包含 <code>&lt;commit_ref1&gt;</code> 提交但不包含 <code>&lt;commit_ref2&gt;</code> 提交的所有提交。</li>
<li>引用与父提交（Reference with Parent Commit）：您可以使用波浪符（<code>~</code>）后跟一个数字，来查看某个提交的父提交。例如，<code>HEAD~2</code>表示HEAD提交的第二个父提交。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> &lt;commit_ref&gt;~&lt;number&gt;</span><br></pre></td></tr></table></figure></li>
<li><strong>时间范围</strong>: 使用 <code>--since</code> 和/或 <code>--until</code> 参数来指定时间范围内的提交。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --since=&lt;<span class="built_in">date</span>&gt; --until=&lt;<span class="built_in">date</span>&gt;</span><br></pre></td></tr></table></figure>
其中<code>&lt;date&gt;</code>是日期时间的格式，例如：<code>&quot;2023-01-01&quot;</code>。</li>
<li><strong>作者过滤</strong>: 使用 <code>--author</code> 参数按作者筛选提交。<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --author=&lt;author_name&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p><strong>限制显示的提交数量：</strong><br>使用 <code>-n &lt;num&gt;</code> 参数，可以限制只显示最近的 <code>&lt;num&gt;</code> 条提交记录。</p>
</li>
<li><p><strong>显示某个提交之前的历史记录：</strong></p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">log</span> <span class="variable">&lt;commit_hash&gt;</span>~</span><br></pre></td></tr></table></figure>
<p>使用 <code>&lt;commit_hash&gt;~</code> 表示显示某个提交之前的历史记录，其中 <code>~</code> 表示父提交。</p>
</li>
<li><p><strong>显示某个提交之后的历史记录：</strong></p>
<figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">log</span> <span class="variable">&lt;commit_hash&gt;</span>..</span><br></pre></td></tr></table></figure>
<p>使用 <code>&lt;commit_hash&gt;..</code> 表示显示某个提交之后的历史记录。</p>
</li>
<li><p><strong>自定义输出格式：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment">--pretty=&lt;format&gt;</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>--pretty=&lt;format&gt;</code> 参数，可以自定义输出的格式。例如，<code>--pretty=format:&quot;%h - %an, %ar : %s&quot;</code> 将以特定格式显示提交的哈希（<code>%h</code>）、作者名（<code>%an</code>）、提交日期（<code>%ad</code>）和提交信息（<code>%s</code>）。也可使用<code>--pretty=oneline</code>，等价于<code>--oneline</code>。</p>
<p>也可以使用其他选项：<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230721204802.png" alt=""></p>
</li>
<li><p><strong>显示变更的简要统计：</strong></p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> <span class="comment">--stat</span></span><br></pre></td></tr></table></figure>
<p>使用 <code>--stat</code> 参数，可以显示每个提交的简要统计信息，包括文件改动数量和行数的增减。==这一命令加上 —date=short 参数效果更佳。==</p>
</li>
<li><p><strong>汇总多个开发者提交</strong>：<br><code>git shortlog</code>是Git的一个命令，用于生成简洁的提交统计报告，以作者为单位汇总提交信息。它可以快速显示每个作者所提交的提交数目，以及他们的提交信息摘要。</p>
</li>
</ol>
<h4 id="GIT-CHECKOUT-在提交节点间跳跃"><a href="#GIT-CHECKOUT-在提交节点间跳跃" class="headerlink" title="GIT CHECKOUT:  在提交节点间跳跃"></a>GIT CHECKOUT:  在提交节点间跳跃</h4><p><code>git checkout</code> 命令在 Git 中是一个非常常用且功能丰富的命令。它主要用于切换分支，恢复文件或撤销更改。</p>
<ol>
<li><p><strong>切换分支：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="tag">&lt;<span class="name">branch_name</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这是 <code>git checkout</code> 最常用的用法之一。它允许你切换到指定的分支，并将工作目录和索引设置为该分支的最新状态。</p>
</li>
<li><p><strong>创建新分支并切换：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b <span class="tag">&lt;<span class="name">new_branch_name</span>&gt;</span> [<span class="tag">&lt;<span class="name">starting_point</span>&gt;</span>]</span><br></pre></td></tr></table></figure>
<p>这个用法将创建一个新的分支，并将 HEAD 指向该分支。<strong>如果提供了 <code>&lt;starting_point&gt;</code> 参数，新分支将从指定的提交、分支或标签开始。</strong></p>
<p> <code>-B</code>参数，是<code>-b</code>的强制模式。当要创建的分支已然存在时，会出现<code>fatal: A branch named &#39;feature/add-about-page&#39; already exists.</code>错误。而<code>-B</code>命令则会强制创建该分支，用新创建的分支覆盖原分支。</p>
</li>
<li><p><strong>切换到先前的分支：</strong></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git</span> checkout -</span><br></pre></td></tr></table></figure>
<p>使用单独的短横线 <code>-</code> 作为参数，将你切换回之前所在的分支。</p>
</li>
<li><p><strong>切换到指定的提交：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="tag">&lt;<span class="name">commit_hash</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>通过提供提交哈希值，可以将工作目录设置为该提交的状态，进入分离头指针状态（detached HEAD）。</p>
</li>
<li><p><strong>丢弃工作目录中的更改：</strong></p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="comment">-- &lt;file_path&gt;</span></span><br></pre></td></tr></table></figure>
<p>可以使用 <code>--</code> 和文件路径来<strong>撤销</strong>对工作目录中某个文件所做的更改，将其恢复到最近一次提交的状态。</p>
<p>如果文件已经被添加到暂存区（Index），但你在工作目录中对其进行了修改，可以使用相同的命令来撤销暂存区中的更改，将其恢复到最近一次提交的状态。</p>
</li>
<li><p><strong>使用远程分支创建本地分支：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b <span class="tag">&lt;<span class="name">local_branch_name</span>&gt;</span> <span class="tag">&lt;<span class="name">remote_name</span>&gt;</span>/<span class="tag">&lt;<span class="name">remote_branch_name</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>这个用法允许你使用远程分支作为起点创建一个本地分支。</p>
</li>
<li><p><strong>切换到标签（Tag）：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="tag">&lt;<span class="name">tag_name</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>通过提供标签名称，可以将工作目录设置为标签所指向的提交状态，进入分离头指针状态（detached HEAD）。</p>
</li>
<li><p><strong>强制切换：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -f <span class="tag">&lt;<span class="name">branch_name</span>&gt;</span>git </span><br></pre></td></tr></table></figure>
<p>这个命令将强制切换分支，即使有未保存的更改。慎用，因为未保存的更改将会丢失。</p>
</li>
<li><p><strong>检出子模块的提交：</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout <span class="tag">&lt;<span class="name">submodule_path</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在包含子模块的仓库中，这个命令可以用来检出子模块的提交。</p>
</li>
<li><p><strong>查看分支和提交信息：</strong></p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git checkout</span></span><br></pre></td></tr></table></figure>
<p>不带参数的 <code>git checkout</code> 会显示当前所在的分支或提交信息。</p>
</li>
</ol>
<h4 id="GIT-MERGE-合并到当前分支"><a href="#GIT-MERGE-合并到当前分支" class="headerlink" title="GIT MERGE: 合并到当前分支"></a>GIT MERGE: 合并到当前分支</h4><h3 id="原理：dive-into-details"><a href="#原理：dive-into-details" class="headerlink" title="原理：dive into details"></a>原理：dive into details</h3><h4 id="git-folders-了解git原理的关键"><a href="#git-folders-了解git原理的关键" class="headerlink" title=".git folders: 了解git原理的关键"></a><code>.git</code> folders: 了解git原理的关键</h4><h5 id="对象数据库（Object-Database）："><a href="#对象数据库（Object-Database）：" class="headerlink" title="对象数据库（Object Database）："></a><strong>对象数据库（Object Database）</strong>：</h5><p>在.git文件夹中，有一个名为”objects”的目录，它是Git的对象数据库。Git以对象的形式存储文件和目录的快照、提交信息等。这些对象是Git中的基本数据单元。Git使用SHA-1哈希算法对这些对象进行唯一标识，并根据内容计算哈希值。</p>
<p><strong>Blob（文件快照）</strong>： Blob是Git中表示文件内容的数据对象。它仅仅存储文件内容本身，不包含文件名或路径等信息。</p>
<pre><code>1. Blob使用SHA-1哈希算法计算唯一标识，由Javascript逆向那一节我们知道，SHA-1生成一个160位的哈希值，转成16进制则为40个字符。为了管理方便，在文件系统中前两位作为`.git/objects/` 子目录的名字，后38为作为文件名字。`git cat-file -p &lt;hash value&gt;`能够将Blob文件逆向输出为文本文件。
2. 每当文件内容发生变化时，Git都会创建一个新的Blob对象，而非存储更改，保留文件历史的完整性。 Git通过SHA-1哈希值来唯一标识每个文件，如果文件内容未发生变化，Git会复用之前的数据块，从而节省存储空间。
</code></pre><p><strong>Tree（目录结构）</strong>： Tree是Git中表示目录结构的数据对象。</p>
<pre><code>1. Blob对象中只存储了文件内容，并不含该对象的文件名等信息。故GIT用树结构来解决文件名保存的问题。具体而言，类似文件树，一个树对象包含一个文件模式(在新增文件时出现的 create mode xxxx)，对象的类型（是Blob对象还是子树对象，可以用`git cat-file -t &lt;key&gt;`来查看类型），对象的SHA-1指针，最后是文件名。
2. ![](https://gcore.jsdelivr.net/gh/Molaison/IMages/20230722004544.png)![](https://gcore.jsdelivr.net/gh/Molaison/IMages/20230722004731.png)
</code></pre><p>Blob对象对应的是文件一次次不同的版本（位于不同的blob文件中）；而Tree对象对应的是一次次版本，当版本更新时，新建一个Tree并将现有Tree作为其子节点，同为子节点的还有修改后的文件的Blob对象条目。</p>
<p><strong>Commit（提交信息）</strong>： Commit是Git中表示项目版本的数据对象。它包含了提交作者、提交时间、提交信息和指向对应文件树（Tree）的哈希指针等信息。每次执行”git commit”命令时，都会生成一个新的Commit对象，记录了当前项目状态的快照，可以看做是Tree对象的一个封装。<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/909968-20220427104818588-1136887141.png" alt=""><br>而对于多个提交，其格式如下：当文件内容未被修改时，复用之前的数据块。<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/909968-20220427104847129-1712158832.png" alt=""></p>
<p><strong>Tag（标签）</strong>： Tag是Git中表示版本标签的数据对象，Tag对象存储在Git的对象数据库中，和其他对象（如提交对象、树对象和Blob对象）一样，以压缩形式存储在<code>.git/objects</code>目录下。它是对某个Commit的引用，用于标记特定的版本，如软件发布的稳定版本或<strong>里程碑</strong>。类似Commit，Tag对象包含了标签名、标签作者、标签信息和指向对应Commit的哈希指针。</p>
<blockquote>
<p>默认情况下，git push命令并不会传送标签到远程仓库服务器上。在创建完标签后，你必须显式地(手动)推送标签到远程服务器上。使用<code>git push origin &lt;tagname&gt;</code> 或<code>git push origin --tags</code>来完成。</p>
</blockquote>
<h5 id="分支与引用（Branches-and-References）"><a href="#分支与引用（Branches-and-References）" class="headerlink" title="分支与引用（Branches and References）"></a><strong>分支与引用（Branches and References）</strong></h5><p>在.git文件夹中，有一个名为”refs”的目录，其中包含分支和引用。分支是指向提交对象（commits）的指针，而引用是指向分支或标签（tags）的指针。这些指针的存在使得Git能够跟踪项目的不同开发分支，并快速访问最新的提交。<br>存储于<code>.git/refs/tags</code>目录中的是以标签名作为文件名而以校验值作为内容的文件。<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230722094941.png" alt=""><br>Tag对象的文件结构如下：<br><figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">object &lt;commit对象的SHA-1&gt;</span><br><span class="line">type commit</span><br><span class="line">tag &lt;标签名&gt;</span><br><span class="line">tagger &lt;标签作者&gt; &lt;时间戳&gt; &lt;标签信息&gt;</span><br></pre></td></tr></table></figure></p>
<ul>
<li><code>&lt;commit对象的SHA-1&gt;</code>：这个字段存储了标签对应的提交的SHA-1哈希值，即标签所指向的提交。</li>
<li><code>type commit</code>：表示这个Tag对象是一个指向提交的标签。</li>
<li><code>&lt;标签名&gt;</code>：这个字段存储了标签的名称。</li>
<li><code>tagger &lt;标签作者&gt; &lt;时间戳&gt; &lt;标签信息&gt;</code>：这个字段包含了标签的作者信息、创建时间和标签信息。通常情况下，Git会自动记录创建标签的人和时间，除非在创建Tag时指定了自定义信息。</li>
</ul>
<p>而对于分支对象的引用， 它存储在<code>refs/heads/</code>目录下，当使用<code>feature/add-about-page</code>分支名时，会使用<code>feature</code>作为子目录，<code>add-about-page</code>作为子文件。该文件同样存储的是blob文件的校验码。<br>远程分支也采用类似操作，储存于<code>refs/remotes</code>目录下。每个远程仓库对应一个文件或目录。<br>这个目录位于<code>.git</code>目录下，是Git存储分支引用（即分支指针）的地方。每当你创建一个新的分支或切换到一个分支，Git会在<code>refs/heads/</code>目录下创建或更新相应的分支引用。</p>
<p>另一种特别的引用是<code>stash</code>，其储存于<code>refs/stash</code>中。实际上，<code>.git/refs/stash</code>文件只存储了最近一个stash的哈希值。这是因为在Git中，stash通常被存储为一个栈（stack）结构，最新的stash会覆盖之前的stash，弹出一个stash时使用上一个stash。其他stash的哈希值实际上存储在一个名为<code>.git/logs/refs/stash</code>的文件中。<code>.git/logs/refs/stash</code>文件记录了stash的历史，包含了过去每次stash的提交信息，每条记录包含了一个哈希值和相关的提交信息。这个文件允许你查看stash的历史，以及在需要时恢复特定的stash。</p>
<h5 id="索引（Index）"><a href="#索引（Index）" class="headerlink" title="索引（Index）"></a><strong>索引（Index）</strong></h5><p>Git使用一个名为”index”的文件来暂存即将提交的更改。在工作目录中修改文件后，将这些更改暂存到索引中，然后通过”git commit”命令将索引中的更改提交到版本历史中。</p>
<ul>
<li>暂存区：<code>.git/index</code>文件是Git的暂存区，用于存储即将提交的文件修改信息。在进行提交前，你可以使用<code>git add</code>命令将工作目录中的文件修改添加到暂存区，<code>.git/index</code>就会记录这些文件的状态和变化。</li>
<li>跟踪差异：<code>.git/index</code>文件还用于跟踪当前工作目录和版本库之间的差异。它记录了哪些文件被修改，哪些文件被添加或删除，以便在提交时可以准确地记录这些变化。</li>
</ul>
<p>主要存储的内容有：</p>
<ul>
<li>文件信息：<code>.git/index</code>中存储了当前暂存区的文件状态，包括文件路径、文件权限、对象（blob）的SHA-1哈希值和文件大小等。</li>
<li>目录树信息：Git使用目录树来表示文件和目录的结构。<code>.git/index</code>中包含了当前版本库中的目录树信息，以便跟踪工作目录的变化。</li>
<li>其他元数据：<code>.git/index</code>文件还可能包含一些其他元数据，例如文件版本、时间戳和标记信息等。</li>
</ul>
<h5 id="配置（Configuration）"><a href="#配置（Configuration）" class="headerlink" title="配置（Configuration）"></a><strong>配置（Configuration）</strong></h5><p>Git的配置文件存储在.git/config中，也可以在用户主目录下的.gitconfig中设置。配置文件包含有关Git仓库和全局设置的信息，例如用户名、邮箱、默认分支等。</p>
<h5 id="日志（Logs）"><a href="#日志（Logs）" class="headerlink" title="日志（Logs）"></a><strong>日志（Logs）</strong></h5><p>在.git文件夹中的”logs”目录下存储着对仓库进行操作的日志信息，如分支的提交历史和引用的更新记录。<br><code>.git/logs/HEAD</code>：<code>.git/logs/HEAD</code>文件用于记录<code>HEAD</code>引用的历史变更。这包括<code>HEAD</code>引用在不同分支或提交之间切换的历史记录，以及直接指向特定提交的情况。<br>内容通常包括一系列记录，每条记录对应一个<code>HEAD</code>引用的历史修改。每条记录可能包含以下信息：</p>
<ul>
<li><code>HEAD</code>的旧值和新值：记录<code>HEAD</code>引用在修改前后的状态，即旧的<code>HEAD</code>引用值和新的<code>HEAD</code>引用值（通常是提交的SHA-1哈希值）。</li>
<li>提交信息：通常包括引用变更的提交信息、作者和提交时间等。</li>
<li>操作者信息：记录进行<code>HEAD</code>引用修改的人员信息。<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230722110637.png" alt=""></li>
</ul>
<h5 id="钩子（Hooks）"><a href="#钩子（Hooks）" class="headerlink" title="钩子（Hooks）"></a><strong>钩子（Hooks）</strong></h5><p>Git允许用户在特定的操作点上运行自定义脚本，这些脚本称为钩子。.git/hooks目录存储了这些钩子的样本文件，用户可以根据需要复制并重命名这些样本文件，以创建自己的钩子来触发特定的操作。</p>
<h5 id="配置文件（config和ignore）"><a href="#配置文件（config和ignore）" class="headerlink" title="配置文件（config和ignore）"></a><strong>配置文件（config和ignore）</strong></h5><p>.git/config和.gitignore文件分别用于存储项目特定的仓库配置和要忽略的文件列表。.gitignore文件中列出的文件和目录将不会被Git跟踪和纳入版本控制。</p>
<p>.git/config: <code>.git/config</code>文件是每个Git仓库的仓库级别配置文件。它用于存储与该仓库相关的配置信息，这些配置信息包括用户信息、远程仓库的URL、分支设置、别名、提交模板等。这些配置项仅适用于当前的Git仓库，不会影响其他仓库或全局设置。</p>
<p>.gitignore: <code>.gitignore</code>文件中的规则用于指定要忽略的文件和目录，以防止它们被Git纳入版本控制。以下是一些常见的<code>.gitignore</code>规则案例：</p>
<ol>
<li>忽略特定文件：<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">myfile.txt          <span class="meta"># 忽略名为<span class="string">&quot;myfile.txt&quot;</span>的文件</span></span><br><span class="line">*.<span class="built_in">log</span>               <span class="meta"># 忽略所有以<span class="string">&quot;.log&quot;</span>为后缀的文件</span></span><br><span class="line">secrets.txt         <span class="meta"># 忽略名为<span class="string">&quot;secrets.txt&quot;</span>的文件</span></span><br></pre></td></tr></table></figure></li>
<li>忽略特定目录：<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">build/              <span class="meta"># 忽略名为<span class="string">&quot;build&quot;</span>的目录及其所有内容</span></span><br><span class="line">output/             <span class="meta"># 忽略名为<span class="string">&quot;output&quot;</span>的目录及其所有内容</span></span><br></pre></td></tr></table></figure></li>
<li>忽略指定后缀的文件：<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*.exe               <span class="meta"># 忽略所有以<span class="string">&quot;.exe&quot;</span>为后缀的文件</span></span><br><span class="line">*.tmp               <span class="meta"># 忽略所有以<span class="string">&quot;.tmp&quot;</span>为后缀的文件</span></span><br></pre></td></tr></table></figure></li>
<li>忽略特定文件或目录的所有内容：<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">logs/*              <span class="meta"># 忽略名为&quot;logs&quot;目录中的所有内容</span></span><br><span class="line">secret_folder/      <span class="meta"># 忽略名为&quot;secret_folder&quot;的目录及其所有内容</span></span><br></pre></td></tr></table></figure></li>
<li>使用通配符和正则表达式：<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*.log               <span class="meta"># 忽略所有以<span class="string">&quot;.log&quot;</span>为后缀的文件</span></span><br><span class="line"><span class="keyword">/build/</span>             <span class="meta"># 忽略位于仓库根目录下的名为<span class="string">&quot;build&quot;</span>的目录</span></span><br><span class="line"><span class="keyword">/docs/</span>*.pdf         <span class="meta"># 忽略位于仓库根目录下的名为<span class="string">&quot;docs&quot;</span>目录中的所有以<span class="string">&quot;.pdf&quot;</span>为后缀的文件</span></span><br></pre></td></tr></table></figure></li>
<li>忽略特定路径模式：<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**/temp.txt         <span class="meta"># 忽略任意深度下的名为<span class="string">&quot;temp.txt&quot;</span>的文件</span></span><br><span class="line">!<span class="keyword">/src/</span>temp.txt      <span class="meta"># 除了<span class="string">&quot;src&quot;</span>目录下的<span class="string">&quot;temp.txt&quot;</span>文件之外，忽略其他位置的同名文件</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h5><ol>
<li><p><strong>COMMIT_EDITMSG</strong>： <code>COMMIT_EDITMSG</code>文件是在进行提交（commit）操作时使用的文件。当你执行<code>git commit</code>命令提交代码时，Git会打开一个文本编辑器，并让你输入提交消息（commit message）。<strong>这个编辑器打开的文件就是<code>COMMIT_EDITMSG</code></strong>。你需要在其中输入一条简洁明了的提交消息，描述你所做的更改。</p>
</li>
<li><p><strong>HEAD</strong>： <code>HEAD</code>是一个特殊的引用（reference）指针，它始终指向当前所在分支的最新提交。在Git中，<code>HEAD</code>表示当前工作目录所在的位置。当你检出（checkout）不同的分支或提交时，<code>HEAD</code>引用会更新指向相应的分支或提交，从而指示当前工作目录所在的位置。在分支操作中，<code>HEAD</code>是非常关键的。</p>
</li>
<li><p><strong>ORIG_HEAD</strong>： <code>ORIG_HEAD</code>是一个自动设置的引用，它用于保存分支操作前的<code>HEAD</code>引用的值。当你执行某些具有潜在风险的分支操作，例如合并（merge）、重置（reset）、回滚（revert）等时，Git会自动设置<code>ORIG_HEAD</code>引用，以保存你执行操作前<code>HEAD</code>引用所指向的位置。这样，你可以在需要时回到操作前的状态。</p>
</li>
</ol>
<h4 id="Merge的底层逻辑-file-level"><a href="#Merge的底层逻辑-file-level" class="headerlink" title="Merge的底层逻辑: file level"></a>Merge的底层逻辑: file level</h4><ol>
<li><strong>查找共同祖先</strong>： 在进行合并之前，Git首先查找两个分支的共同祖先（合并基础），这个共同祖先是它们最近的共同提交。通过找到共同祖先，Git可以确定要合并的范围，并知道各个分支的修改是从哪个点开始的。</li>
<li><strong>比较修改</strong>： Git比较共同祖先和要合并的两个分支之间的差异，确定哪些内容在每个分支上进行了修改。对于BLOB对象，Git会比较文件内容，找出每个分支上的修改。</li>
<li><strong>合并修改</strong>： 对于BLOB对象，合并修改意味着将两个分支对同一文件所做的修改合并到一起。如果两个分支对文件的修改没有冲突，Git会自动合并这些修改，生成一个新的文件内容，作为合并结果。</li>
<li><strong>解决冲突</strong>： 如果两个分支对同一文件的修改发生冲突，即它们修改了相同的内容，并且没有共同祖先的提交来指导合并，那么就会发生合并冲突。对于BLOB对象的合并冲突，通常是Git无法自动解决的，需要开发者手动解决冲突。</li>
<li><strong>生成新的BLOB对象</strong>： 在合并成功或者手动解决冲突后，Git会生成一个新的BLOB对象，其中包含了合并后的文件内容。这个新的BLOB对象将作为合并结果，用于创建一个新的合并提交。</li>
</ol>
<p>总结一下：git使用的是三路合并(Three-way merge)的方法。我们首先要找到共同祖先，即修改前的版本作为基准。相对于基准，分别逐行进行比对，只要不是同时对一行文本进行修改，git会自动接受修改。</p>
<blockquote>
<p>多个公共祖先？<br><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/20230722134518.png" alt=""></p>
</blockquote>
<p>merge <code>X&#39;&#39; Y&#39;</code>和<code>X&#39; Y&#39;&#39;</code>的时候发现有两个节点都符合<code>最近的公共祖先</code>，即：</p>
<ul>
<li><code>X&#39; Y</code></li>
<li><code>X Y&#39;</code><br>我们称这种情况为：<code>Criss-cross-merge</code>，这时就需要用到<code>Recursive three-way merge</code>算法，具体步骤如下：</li>
</ul>
<ol>
<li>先把候选的两个<code>最近的公共祖先</code>递归调用merge，生成成一个虚拟的节点。</li>
<li>然后让这个虚拟节点作为<code>Base</code>进行合并。</li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/computer-science/">computer science</a></div><div class="post_share"><div class="social-share" data-image="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/21/%E6%9C%AA%E5%91%BD%E5%90%8D/"><img class="prev-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info"></div></div></a></div><div class="next-post pull-right"><a href="/2023/06/16/JavaScript%E9%80%86%E5%90%91Basics-%E5%8A%A0%E5%AF%86%E4%B8%8E%E5%AE%89%E5%85%A8/"><img class="next-cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">JavaScript逆向Basics: 加密与安全</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/12/17/Bash%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Bash学习笔记"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-17</div><div class="title">Bash学习笔记</div></div></a></div><div><a href="/2022/10/07/Javascript%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="Javascript学习笔记"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-07</div><div class="title">Javascript学习笔记</div></div></a></div><div><a href="/2023/06/16/JavaScript%E9%80%86%E5%90%91Basics-%E5%8A%A0%E5%AF%86%E4%B8%8E%E5%AE%89%E5%85%A8/" title="JavaScript逆向Basics: 加密与安全"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-16</div><div class="title">JavaScript逆向Basics: 加密与安全</div></div></a></div><div><a href="/2023/06/09/Linux-etc-%E7%9B%AE%E5%BD%95%E8%AF%A6%E8%A7%A3/" title="Linux &#x2F;etc&#x2F; 目录详解"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-09</div><div class="title">Linux &#x2F;etc&#x2F; 目录详解</div></div></a></div><div><a href="/2023/06/10/Linux-%E6%96%87%E6%9C%AC%E5%A4%84%E7%90%86-Regex-is-all-you-need/" title="Linux 文本处理: Regex is all you need!"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-10</div><div class="title">Linux 文本处理: Regex is all you need!</div></div></a></div><div><a href="/2023/06/15/Python%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0-Javascript%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/" title="Python爬虫笔记: Javascript逆向分析"><img class="cover" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-15</div><div class="title">Python爬虫笔记: Javascript逆向分析</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://gcore.jsdelivr.net/gh/Molaison/IMages/IMG/2022/10/1820221018081403.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Molaison</div><div class="author-info__description">Per Aspera Ad Astra.</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">16</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" href="https://github.com/Molaison"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Molaison" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:sub2pro@foxmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.zhihu.com/people/wang-er-zhi-88" target="_blank" title="知乎"><i class="fab fa-zhihu"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFGit%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">什么是Git？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B%EF%BC%9AGit%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="toc-number">2.</span> <span class="toc-text">基本流程：Git工作流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95%EF%BC%9A%E6%A1%88%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">基本用法：案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E4%BA%A4%EF%BC%9Acommit-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">4.</span> <span class="toc-text">提交：commit 命名规范</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3%EF%BC%9Aparameter-level-explanation"><span class="toc-number">5.</span> <span class="toc-text">命令详解：parameter-level explanation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-BRANCH-%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C"><span class="toc-number">5.1.</span> <span class="toc-text">GIT BRANCH: 分支操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-ADD-%E5%8A%A0%E5%85%A5%E6%9A%82%E5%AD%98"><span class="toc-number">5.2.</span> <span class="toc-text">GIT ADD: 加入暂存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-COMMIT-%E6%8F%90%E4%BA%A4%E8%87%B3%E6%9C%AC%E5%9C%B0%E7%89%88%E6%9C%AC%E5%BA%93"><span class="toc-number">5.3.</span> <span class="toc-text">GIT COMMIT: 提交至本地版本库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-STATUS-%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8Dtrack%E7%8A%B6%E6%80%81"><span class="toc-number">5.4.</span> <span class="toc-text">GIT STATUS: 查看当前track状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-DIFF%EF%BC%9A%E7%9C%8B%E7%9C%8B%E6%94%B9%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-number">5.5.</span> <span class="toc-text">GIT DIFF：看看改了什么</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-LOG%EF%BC%9ATIMELINE"><span class="toc-number">5.6.</span> <span class="toc-text">GIT LOG：TIMELINE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-CHECKOUT-%E5%9C%A8%E6%8F%90%E4%BA%A4%E8%8A%82%E7%82%B9%E9%97%B4%E8%B7%B3%E8%B7%83"><span class="toc-number">5.7.</span> <span class="toc-text">GIT CHECKOUT:  在提交节点间跳跃</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#GIT-MERGE-%E5%90%88%E5%B9%B6%E5%88%B0%E5%BD%93%E5%89%8D%E5%88%86%E6%94%AF"><span class="toc-number">5.8.</span> <span class="toc-text">GIT MERGE: 合并到当前分支</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8E%9F%E7%90%86%EF%BC%9Adive-into-details"><span class="toc-number">6.</span> <span class="toc-text">原理：dive into details</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#git-folders-%E4%BA%86%E8%A7%A3git%E5%8E%9F%E7%90%86%E7%9A%84%E5%85%B3%E9%94%AE"><span class="toc-number">6.1.</span> <span class="toc-text">.git folders: 了解git原理的关键</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1%E6%95%B0%E6%8D%AE%E5%BA%93%EF%BC%88Object-Database%EF%BC%89%EF%BC%9A"><span class="toc-number">6.1.1.</span> <span class="toc-text">对象数据库（Object Database）：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E4%B8%8E%E5%BC%95%E7%94%A8%EF%BC%88Branches-and-References%EF%BC%89"><span class="toc-number">6.1.2.</span> <span class="toc-text">分支与引用（Branches and References）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%EF%BC%88Index%EF%BC%89"><span class="toc-number">6.1.3.</span> <span class="toc-text">索引（Index）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%EF%BC%88Configuration%EF%BC%89"><span class="toc-number">6.1.4.</span> <span class="toc-text">配置（Configuration）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%EF%BC%88Logs%EF%BC%89"><span class="toc-number">6.1.5.</span> <span class="toc-text">日志（Logs）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%92%A9%E5%AD%90%EF%BC%88Hooks%EF%BC%89"><span class="toc-number">6.1.6.</span> <span class="toc-text">钩子（Hooks）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%EF%BC%88config%E5%92%8Cignore%EF%BC%89"><span class="toc-number">6.1.7.</span> <span class="toc-text">配置文件（config和ignore）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">6.1.8.</span> <span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Merge%E7%9A%84%E5%BA%95%E5%B1%82%E9%80%BB%E8%BE%91-file-level"><span class="toc-number">6.2.</span> <span class="toc-text">Merge的底层逻辑: file level</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/21/%E6%9C%AA%E5%91%BD%E5%90%8D/" title="无题">无题</a><time datetime="2023-07-21T12:57:12.918Z" title="发表于 2023-07-21 20:57:12">2023-07-21</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/19/Git%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-From-Principles-to-Cases/" title="Git学习笔记: From Principles to Cases">Git学习笔记: From Principles to Cases</a><time datetime="2023-07-18T16:32:01.000Z" title="发表于 2023-07-19 00:32:01">2023-07-19</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/16/JavaScript%E9%80%86%E5%90%91Basics-%E5%8A%A0%E5%AF%86%E4%B8%8E%E5%AE%89%E5%85%A8/" title="JavaScript逆向Basics: 加密与安全">JavaScript逆向Basics: 加密与安全</a><time datetime="2023-06-16T00:18:31.000Z" title="发表于 2023-06-16 08:18:31">2023-06-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/15/Python%E7%88%AC%E8%99%AB%E7%AC%94%E8%AE%B0-Javascript%E9%80%86%E5%90%91%E5%88%86%E6%9E%90/" title="Python爬虫笔记: Javascript逆向分析">Python爬虫笔记: Javascript逆向分析</a><time datetime="2023-06-15T09:25:52.000Z" title="发表于 2023-06-15 17:25:52">2023-06-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/06/14/%E5%86%8D%E8%AF%BBGeneXII-The-insight-of-biology/" title="再读GeneXII: The insight of biology">再读GeneXII: The insight of biology</a><time datetime="2023-06-14T09:27:46.000Z" title="发表于 2023-06-14 17:27:46">2023-06-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Molaison</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script type="text/javascript" src="/js/anchor_sign.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>